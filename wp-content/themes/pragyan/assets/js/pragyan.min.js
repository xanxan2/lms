!function(s){var a,n={init:function(){this.initPreloader(),this.initEvents(),this.initScrollToTop(),this.initSearchBox(),this.initNavigationMenu(),this.initAccessibility(),this.initSticky(),this.initStickyMenu(),this.initCarousel(),this.widgetsSettings(),this.tabbedWidget()},initPreloader:function(){s(window).on("load",function(){s(".preloader").delay(500).fadeOut(500),s("#pragyan-preloader").fadeOut(),s(".pragyan_image_preloader").fadeOut("slow")})},initSticky:function(){s(window).load(function(){if(!(s(".sticky-sidebar").length<1)){var n=0,i=s(".site-content-row")[0],t=s("#wpadminbar").outerHeight(),e=s(window).outerWidth(),a=20+t;if(i)n=s("body.theme-body").outerHeight()+s("body.theme-body").offset().top-s(".site-content-row").offset().top-s(".site-content-row").outerHeight();992<=e&&(t?s(".sticky-sidebar").sticky({topSpacing:a,bottomSpacing:n}):s(".sticky-sidebar").sticky({topSpacing:20,bottomSpacing:n}))}})},initStickyMenu:function(){s(window).load(function(){var n=jQuery("#wpadminbar");n.length?jQuery(".main-header.pragyan-sticky").sticky({topSpacing:n.height(),zIndex:99}):jQuery(".main-header.pragyan-sticky").sticky({topSpacing:0,zIndex:99})})},initScrollToTop:function(){},initSearchBox:function(){s("#search").on("click, focus",function(){s(".pragyan-search-box").fadeIn(600);var n="pragyan-search-box";s("#"+n).addClass("pragyan-searchbox-open"),s(document).trigger("pragyan_focus_inside_element",[n,"#pragyan-search-box input.search-field","pragyan-searchbox-open"])}),s(".pragyan-close-button").on("click",function(){s(".pragyan-search-box").fadeOut(600);s("#pragyan-search-box").removeClass("pragyan-searchbox-open")})},initNavigationMenu:function(){s(".pragyan-mobile-navigation-menu").find(".main-menu li.menu-item-has-children>a").append('<button type="button" class="icon pragyan-mobile-nav-toggle"><span class="fa fa-angle-down"></span></button>'),s("body").on("click",".pragyan-mobile-nav-toggle",function(n){n.preventDefault(),s(this).closest("li.menu-item").find(" > ul.sub-menu").slideToggle(function(){s(this).closest("li").hasClass("open")?s(this).closest("li").removeClass("open"):s(this).closest("li").addClass("open")})}),s("body").on("click",".pragyan-mobile-navigation-close",function(){s("#pragyan-mobile-navigation-menu-icon").trigger("click").focus()}),s("body").on("click",".pragyan-mobile-navigation-menu-icon>#pragyan-mobile-navigation-menu-icon",function(n){n.preventDefault();var i=".pragyan-mobile-navigation-menu";s(this).hasClass("open")?(s(this).removeClass("open"),s(i).removeClass("opened-nav")):(s(this).addClass("open"),s(i).addClass("opened-nav"),s(document).trigger("pragyan_focus_inside_element",["pragyan-mobile-navigation-menu",".pragyan-mobile-navigation-close","opened-nav"]))})},initAccessibility:function(){var n=s("#site-navigation ul.main-menu");n.find("li.menu-item").focusin(function(){s(this).hasClass("focus")||s(this).addClass("focus")}),n.find("li.menu-item").focusout(function(){s(this).removeClass("focus")})},initCarousel:function(){s("#pragyan-slider").owlCarousel({loop:!0,margin:10,responsiveClass:!0,nav:!0,dots:!1,responsive:{0:{items:1}}}),s("#pragyan-slider").removeClass("before-init")},widgetsSettings:function(){var n=s(".pragyan-cta-content.pragyan-full-width");s.each(n,function(){var n=s(this).attr("data-image");""!==n&&undefined!==n&&s(this).closest(".pragyan-cta-wrapper").find(".pragyan-cta-content.pragyan-full-width:after").css("background-image","url("+n+")")})},tabbedWidget:function(){s(".pragyan-tabbed-widget-wrap").find("ul.widget-tabs li").on("click",function(){var n=s(this).attr("data-id"),i=s(this).closest(".pragyan-tabbed-widget-wrap");s(this).hasClass("active")||(i.find(".pragyan-tab-content").find(".content").removeClass("active"),i.find(".widget-tabs").find("li").removeClass("active"),s(this).addClass("active"),i.find("."+n).addClass("active"))})},trapFocus:function(i,t){var n=i.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),e=n[0];a=n[n.length-1];i.addEventListener("keydown",function(n){("Tab"===n.key||9===n.keyCode)&&(i.classList.contains(t)?n.shiftKey?document.activeElement===e&&(a.focus(),n.preventDefault()):document.activeElement===a&&(e.focus(),n.preventDefault()):i.removeEventListener("keydown",this))})},initEvents:function(){var o=this;s(document).on("pragyan_focus_inside_element",function(n,i,t,e){s("#"+i).find(t).focus();var a=document.getElementById(i);o.trapFocus(a,e)})}};s(function(){n.init()})}(jQuery);